## 1. å‡½æ•¸ç›¸é—œè€ƒé¡Œ

-   ä¾†æºï¼šhttps://www.geeksforgeeks.org/quizzes/functions-gq/

## 2. åŸºæœ¬ä»‹ç´¹

åŒ…å«äº”å€‹éƒ¨åˆ†ï¼šå‡½å¼åº«ã€æ¨™é ­æª”(header file)ã€å‡½æ•¸åç¨±ã€åƒæ•¸ã€å›å‚³

-   å‡½æ•¸å¯ä»¥åˆ†ä¸‰å€‹æ–¹é¢ï¼š
    -   Function Declaration å‡½æ•¸è²æ˜
    -   Function Definition åŠŸèƒ½å®šç¾©
    -   Function Calls å‡½æ•¸èª¿ç”¨

## 3. Function Declarations

![upgit_20250318_1742264531.png](https://raw.githubusercontent.com/kcwc1029/obsidian-upgit-image/main/2025/03/upgit_20250318_1742264531.png)

-   In a function declaration, we must provide the function name, its return type, and the number and type of its parameters.
-   A function declaration tells the compiler that there is a function with the given name defined somewhere else in the program.

## 4. Function Definition

![upgit_20250318_1742264667.png](https://raw.githubusercontent.com/kcwc1029/obsidian-upgit-image/main/2025/03/upgit_20250318_1742264667.png)

-   The function definition consists of actual statements which are executed when the function is called (i.e. when the program control comes to the function).

## 5. Function Call

![upgit_20250318_1742264725.png](https://raw.githubusercontent.com/kcwc1029/obsidian-upgit-image/main/2025/03/upgit_20250318_1742264725.png)

-   A function call is a statement that instructs the compiler to execute the function. We use the function name and parameters in the function call.

> Qï¼šWhat is the difference between function declaration and function definition?
>
> -   A function declaration includes details like the function name, return type, and parameters.
> -   A function definition includes the actual body of the function.

## 6. forward declaration?

-   Sometimes, we define a function after its call to improve readability. In such cases, we declare the function before its definition and call. Such a declaration is called a forward declaration.

```c
#include <stdio.h>

// Forward declarationï¼ˆå‰å‘å®£å‘Šï¼‰
void sayHello();

int main() {
    sayHello();  // å¯ä»¥å…ˆå‘¼å«å‡½å¼ï¼Œå› ç‚ºå·²ç¶“æœ‰å®£å‘Š
    return 0;
}

// Function definitionï¼ˆå‡½å¼å®šç¾©ï¼‰
void sayHello() {
    printf("Hello, World!\n");
}

```

## 7. åƒæ•¸å‚³é(Function Arguments)

åˆ†ç‚º

-   å½¢å¼åƒæ•¸(formal parameter) => parameter
-   å¯¦éš›åƒæ•¸(actual parameter) => Argument

![upgit_20250318_1742266084.png](https://raw.githubusercontent.com/kcwc1029/obsidian-upgit-image/main/2025/03/upgit_20250318_1742266084.png)

> Qï¼šWhat is the difference between function arguments and parameters?
>
> -   Function parameters are the variables listed in the function declaration.
> -   Function arguments are the actual values passed to the function during the function call.

### 7.1. Labï¼šä¸»ç¨‹å¼èˆ‡å‡½æ•¸å…§çš„åœ°å€ä¸åŒ

```c
// è®Šæ•¸iç‚ºå¯¦éš›åƒæ•¸(actual parameter)
// è®Šæ•¸jç‚ºå¯¦éš›åƒæ•¸(formal parameter)
#include <stdio.h>
#include <stdlib.h>

void test(int j){
    printf("è®Šæ•¸jçš„å€¼ = %d\n",j);
    printf("è®Šæ•¸jçš„åœ°å€ = %p\n", &j);
    j++;
    return;
}
int main(void){
    int i;
    scanf("%d", &i);
    printf("è®Šæ•¸içš„å€¼ = %d\n",i);
    printf("è®Šæ•¸içš„åœ°å€ = %p\n", &i);
    test(i);
    printf("è®Šæ•¸içš„å€¼ = %d\n",i);
    printf("è®Šæ•¸içš„åœ°å€ = %p\n", &i);
    return 0;
}

// è¼¸å…¥
// 25
// è¼¸å‡º
// è®Šæ•¸içš„å€¼ = 25
// è®Šæ•¸içš„åœ°å€ = 0061FF1C
// è®Šæ•¸jçš„å€¼ = 25
// è®Šæ•¸jçš„åœ°å€ = 0061FF00
// è®Šæ•¸içš„å€¼ = 25
// è®Šæ•¸içš„åœ°å€ = 0061FF1C
```

### 7.2. Call by Value

-   Call by value in C is where in the arguments we pass value and that value can be used in function for performing the operation.
-   Values passed in the function are stored in temporary memory so the changes performed in the function donâ€™t affect the actual value of the variable passed.

```c
#include <stdio.h>
#include <stdlib.h>
#include <string.h>

int sum(int x, int y){
    int c;
    c = x + y;
    return c;
}

// Driver Code
int main(){
    int a = 3, b = 2;
    int c = sum(a, b);
    printf("Sum of %d and %d : %d", a, b, c);
    return 0;
}
```

### 7.3. Call by Reference

-   Call by reference is the method in C where we call the function with the passing address as arguments.
-   We pass the address of the memory blocks which can be further stored in a pointer variable that can be used in the function.
-   Now, changes performed in the values inside the function can be directly reflected in the main memory.

```c
#include <stdio.h>

// Call by reference
void swap(int* x, int* y)
{
    int temp = *x;
    *x = *y;
    *y = temp;
}

int main(){
    int x = 1, y = 5;
    printf("Before Swapping: x:%d , y:%d\n", x, y);
    swap(&x, &y);
    printf("After Swapping: x:%d , y:%d\n", x, y);
    return 0;
}
```

### 7.4. é™£åˆ—åƒæ•¸å‚³é

-   Can we return multiple values from a C function?
    -   No, it is generally not possible to return multiple values from a function. However, we can return multiple values using pointers, heap memory, or structures.
-   é™£åˆ—æ˜¯ä»¥å¯¦éš›åƒæ•¸(actual parameter)çš„æ–¹å¼å‚³å€¼

### 7.5. Labï¼šé™£åˆ—åƒæ•¸å‚³é

```c
#include <stdio.h>
#include <stdlib.h>
#define ASIZE 3
#define BSIZE 5

void printArray(int array[], int n){
    printf("array is at %p\n", array);
    for (int i = 0; i < n; i++){
        printf("array[%d] = %d\n", i, array[i]);
    }
    return;
}


int main(void){
    int a[ASIZE] = {3,5,7};
    int b[BSIZE] = {2,4,6,8,10};
    printf("å°å‡ºaé™£åˆ— = %p\n", a); // ç›¸ç•¶æ–¼å°å‡ºa[0]çš„åœ°å€
    printf("å°å‡ºbé™£åˆ— = %p\n", b);

    printArray(a, ASIZE);
    printArray(b, BSIZE);
    return 0;
}

// è¼¸å‡º
// å°å‡ºaé™£åˆ— = 0061FF14
// å°å‡ºbé™£åˆ— = 0061FF00
// array is at 0061FF14
// array[0] = 3
// array[1] = 5
// array[2] = 7
// array is at 0061FF00
// array[0] = 2
// array[1] = 4
// array[2] = 6
// array[3] = 8
// array[4] = 10
```

### 7.6. ä½¿ç”¨å‡½æ•¸å°é™£åˆ—æ“ä½œ

-   å› ç‚ºé™£åˆ—æ˜¯å¯¦éš›åƒæ•¸ï¼Œæ‰€ä»¥å¯ä»¥ç”¨å‡½æ•¸çš„æ–¹å¼å»å°é™£åˆ—æ“ä½œ

### 7.7. Labï¼šä½¿ç”¨å‡½æ•¸å°é™£åˆ—æ“ä½œ

```c
// TODO: å°‡é™£åˆ—å„æ•¸å€¼+1
#include <stdio.h>
#include <stdlib.h>
#define ASIZE 5

void printArray(int array[], int n){
    printf("array is at %p\n", array);
    for (int i = 0; i < n; i++){
        printf("array[%d] = %d ", i, array[i]);
    }
    printf("\n");
    return;
}

void addArray(int array[], int n){
    printf("array is at %p\n", array);
    for (int i = 0; i < n; i++){
        array[i]++;
    }
}

int main(void){
    int a[ASIZE] = {2,4,6,8,10};
    printf("å°å‡ºaé™£åˆ— = %p\n", a); // ç›¸ç•¶æ–¼å°å‡ºa[0]çš„åœ°å€
    printArray(a, ASIZE);
    addArray(a, ASIZE);
    printArray(a, ASIZE);
    return 0;
}

// è¼¸å‡º
// å°å‡ºaé™£åˆ— = 0061FF0C
// array is at 0061FF0C
// array[0] = 2 array[1] = 4 array[2] = 6 array[3] = 8 array[4] = 10
// array is at 0061FF0C
// array is at 0061FF0C
// array[0] = 3 array[1] = 5 array[2] = 7 array[3] = 9 array[4] = 11
```

## 8. Inline Function

-   å¾ˆå¸¸è·Ÿ Macro æ¯”è¼ƒ
-   inline å‡½æ•¸æ˜¯å¸Œæœ›ç·¨è­¯å™¨åœ¨ç·¨è­¯æ™‚ï¼ŒæŠŠå‡½æ•¸çš„ç¨‹å¼ç¢¼ç›´æ¥æ’é€²å‘¼å«çš„åœ°æ–¹ï¼Œè€Œä¸æ˜¯åƒå¹³å¸¸é‚£æ¨£é€²è¡Œã€Œå‡½æ•¸å‘¼å«èˆ‡è·³è½‰ã€
-   é€™æ¨£å¯ä»¥æ¸›å°‘ã€Œå‘¼å«é–‹éŠ·ã€ï¼Œè®“ç¨‹å¼æ›´å¿«ä¸€é»ï¼Œå°¤å…¶æ˜¯å°å‡½æ•¸ã€å¤šæ¬¡å‘¼å«çš„æƒ…æ³ä¸‹ã€‚
-   èªæ³•

```c
inline è¿”å›å‹åˆ¥ å‡½æ•¸åç¨±(åƒæ•¸) {
    // å‡½æ•¸å…§å®¹
}
```

-   ç¯„ä¾‹

```c
#include <stdio.h>

inline int square(int x) {
    return x * x;
}

int main() {
    int n = 5;
    int result = square(n);  // æœƒè¢«æ›¿æ›æˆ n * n
    printf("%d\n", result);
    return 0;
}

```

å…§è¯å‡½æ•¸çš„è¡Œç‚ºï¼šåªæ˜¯å°ç·¨è­¯å™¨çš„å»ºè­°ï¼Œå®ƒä¸æœƒå¼·åˆ¶ç·¨è­¯å™¨ã€‚inline çš„è¡Œç‚ºå–æ±ºæ–¼å®ƒçš„ä½¿ç”¨æ–¹å¼ä»¥åŠç·¨è­¯å™¨å¦‚ä½•å¯¦ç¾å…§è¯å„ªåŒ–ã€‚
-   æœ‰äº›ç·¨è­¯å™¨ï¼ˆåƒ GCCï¼‰éœ€è¦é–‹å•Ÿå„ªåŒ–æ‰èƒ½å•Ÿç”¨ inlineï¼š`gcc program.c -o program -O1`
-   å¦‚æœä½ ä½¿ç”¨ inline è€Œæ²’é–‹å„ªåŒ–ï¼ŒGCC å¯èƒ½æœƒå‡ºç¾ã€Œundefined referenceã€çš„éŒ¯èª¤ï¼ˆæ‰¾ä¸åˆ°å‡½æ•¸å®šç¾©ï¼‰ã€‚
-   æˆ–æ˜¯å¯ä»¥ä½¿ç”¨ Static Inline Function(åœ¨ inline å‡½æ•¸ä¹‹å‰ä½¿ç”¨ static é—œéµå­—)ï¼Œå¼·åˆ¶ç·¨è­¯å™¨ä½¿ç”¨å…§éƒ¨é€£çµè™•ç†å‡½æ•¸

```c
#include <stdio.h>

// Inline function in C
static inline int foo() {
    return 2;
}

int main() {
    int res;

    // inline function call
    res = foo();
    printf("%d", res);
    return 0;
}

```



## 9. Nested functions in C(åµŒå¥—å‡½æ•¸)

-   C èªè¨€ä¸æ”¯æ´çœŸæ­£çš„ã€ŒåµŒå¥—å‡½æ•¸å®šç¾©ã€
-   ä¸èƒ½åœ¨ä¸€å€‹å‡½æ•¸è£¡é¢ã€Œå®šç¾©ã€å¦ä¸€å€‹å‡½æ•¸ï¼ˆåƒ Python é‚£æ¨£ï¼‰ï¼Œæœƒå¾—åˆ°é¡ä¼¼ undefined reference to 'inner' çš„éŒ¯èª¤ã€‚
-   è§£æ³• 01ï¼šæŠŠå‡½æ•¸å¯«åœ¨ä¸»å‡½æ•¸å¤–é¢(å»¢è©± ww)

```c
#include <stdio.h>

void inner() {
    printf("Inner!\n");
}

int main() {
    inner();  // å¯ä»¥æ­£å¸¸ä½¿ç”¨
    return 0;
}
```

-   è§£æ³• 02ï¼šä½¿ç”¨ GNU æ“´å±•ï¼ˆGCCï¼‰
-   GCC æœ‰ä¸€å€‹éæ¨™æº–çš„æ“´å……èªæ³•å…è¨±åœ¨ä¸€å€‹å‡½æ•¸è£¡é¢å®šç¾©å‡½æ•¸ï¼Œä½†åªèƒ½åœ¨ GCC ç·¨è­¯å™¨ä¸Šç”¨ï¼Œè·¨å¹³å°ä¸ä¿è­‰é€šç”¨æ€§ã€‚
-   GCC æ“´å±•ä¸‹çš„åµŒå¥—å‡½æ•¸çš„è²æ˜éœ€è¦ä»¥ auto é—œéµå­—ç‚ºå‰ç¶´/é–‹é ­ã€‚

```c
#include <stdio.h>

int main() {
    auto int inner() {
        printf("This is inner function\n");
        return 0;
    }

    inner();
    return 0;
}

```

## 10. Variadic Functions in C

-   å¯è®Šåƒæ•¸å‡½æ•¸æ˜¯ï¼š ğŸ‘‰ èƒ½å¤ æ¥å—ä¸åŒæ•¸é‡åƒæ•¸çš„å‡½æ•¸
-   å¹³å¸¸æˆ‘å€‘å®šç¾©å‡½æ•¸æ™‚ï¼Œåƒæ•¸æ•¸é‡æ˜¯å›ºå®šçš„ï¼Œåƒæ˜¯`int add(int a, int b); `
-   ä½†æœ‰äº›æƒ…æ³ä¸‹ï¼Œæˆ‘å€‘ä¸ç¢ºå®šè¦å¹¾å€‹åƒæ•¸ï¼ˆåƒ printfï¼‰ï¼Œé€™æ™‚å°±æœƒç”¨åˆ°ã€Œå¯è®Šåƒæ•¸å‡½æ•¸ã€
-   ä½¿ç”¨æ¨™é¡Œæª”ï¼š`<stdarg.h>`
-   èªæ³•

```c
return_type function_name(fixed_arg, ...);

void print(int n, ...);
```

### 10.1. Labï¼šï¼šä¸å›ºå®šåƒæ•¸åŠ ç¨®

-   å‡å¦‚ï¼Œç¾åœ¨è¦åšä¸€å€‹åƒæ•¸ï¼Œä»–æ˜¯æ‹¿ä¾†åš ru è¼¸å‡ºçš„ï¼Œä½†æˆ‘å¸Œæœ›åƒæ•¸æ•¸é‡å¯ä»¥ä¸å›ºå®šçš„å‡½æ•¸

```c
// å¹³å¸¸å¯«æ³•
int add(int a, int b);  // åªèƒ½åŠ å…©å€‹æ•¸

// ç†æƒ³
add(1, 2, 3);       // åŠ ä¸‰å€‹
add(10, 20);        // åŠ å…©å€‹
add(5, 6, 7, 8, 9); // åŠ äº”å€‹
```

```c
#include <stdarg.h>
#include <stdio.h>

int add(int count, ...) {
    // 1. æº–å‚™ä¸€å€‹è®Šæ•¸ä¾†å­˜åƒæ•¸æ¸…å–®
    va_list args;

    // 2. å‘Šè¨´å®ƒå¾å“ªè£¡é–‹å§‹æ‰¾è®Šæ•¸åƒæ•¸ï¼ˆå¾ count ä¹‹å¾Œï¼‰
    va_start(args, count);

    int sum = 0;

    // 3. é‡è¤‡å–å‡ºåƒæ•¸ä¾†åŠ ç¸½
    for (int i = 0; i < count; i++) {
        sum += va_arg(args, int); // æ¯æ¬¡å–å‡ºä¸€å€‹ int
    }

    // 4. çµæŸä½¿ç”¨ï¼Œæ”¶å°¾
    va_end(args);
    return sum;
}

int main(){
    int result = add(3, 10, 20, 30);  // æœƒå›å‚³ 60
    return 0;
}
```

### 10.2. Labï¼šä½œå‡º print(ä¸å›ºå®šåƒæ•¸)

```c
#include <stdio.h>
#include <stdarg.h>

// Variadic function to print given arguments
void print(int n, ...) {
    va_list args;
    va_start(args, n);
    for (int i = 0; i < n; i++)
        printf("%d ", va_arg(args, int));
    printf("\n");
    va_end(args);
}


int main() {

    // Calling function sum() with different number
    // of arguments
    print(3, 1, 2, 3);
    print(5, 1, 2, 3, 4, 5);
    return 0;
}

```

### 10.3. `<stdarg.h>` ä¸­çš„å››å€‹é—œéµè®Šæ•¸(å·¨é›†)

 va_list
-   æ˜¯ä¸€ç¨®ç‰¹æ®Šå‹åˆ¥
-   ç”¨ä¾†å„²å­˜ã€Œå¯è®Šåƒæ•¸æ¸…å–®çš„è³‡è¨Šã€
va_start(list, fixed_arg)ï¼š æŠŠ args åˆå§‹åŒ–ï¼Œè®“å®ƒçŸ¥é“ã€Œå¾å“ªå€‹åƒæ•¸ä¹‹å¾Œé–‹å§‹æ˜¯å¯è®Šåƒæ•¸ã€

```c
va_start(args, n);  // n æ˜¯æœ€å¾Œä¸€å€‹å›ºå®šåƒæ•¸

// n æ˜¯é‚£å€‹ print(n, ...) è£¡çš„ n
```

va_arg(list, type)
-   é€™æ˜¯æœ€æ ¸å¿ƒçš„éƒ¨åˆ†ï¼šæ¯æ¬¡å‘¼å« va_arg å°±æœƒæ‹¿åˆ°ä¸€å€‹åƒæ•¸ï¼Œä¸¦ç§»å‹•åˆ°ä¸‹ä¸€å€‹ã€‚
-   ä½ å¿…é ˆçŸ¥é“åƒæ•¸çš„å‹åˆ¥ï¼Œä¸ç„¶æœƒå°è‡´æœªå®šç¾©è¡Œç‚º(undefined)

```c
int val = va_arg(args, int);  // å¾ args å–ä¸€å€‹ int å‡ºä¾†
```

  va_end(list)ï¼š  This ensures that resources associated with va_list are properly released.

```c
va_end(args);
```

### 10.4. Labï¼šä½œå‡º print(æ··åˆå‹åˆ¥åƒæ•¸)

```c
#include <stdio.h>
#include <stdarg.h>

void print(int n, ...) {
    va_list args;
    va_start(args, n);

    for (int i = 0; i < n; i++) {
        if (i % 2 == 0)
            printf("Integer: %d\n", va_arg(args, int));
        else
            printf("Float: %.2f\n", va_arg(args, double));
    }

    va_end(args);
}

int main(){
    print(4, 10, 3.14, 20, 2.71);
    return 0;
}
```

### 10.5. Labï¼šé™£åˆ—ä¸­æ‰¾ç‰¹å®šå€¼

```c
// -   å®šç¾©ä¸€å€‹å‡½æ•¸ match(è¦æ‰¾çš„å€¼, é™£åˆ—æœ¬èº«, é™£åˆ—é•·åº¦)
//     -   å¦‚æœæ‰¾åˆ°ï¼Œè¿”å›ä½ç½®
//     -   æ‰¾ä¸åˆ°ï¼Œè¿”å›-1

int match(int key, int keys[], int n){
    for (int i = 0; i < n; i++){
        if (key == keys[i]){
            return i;
        }
    }
    return -1;
}

int main(void){
    int key = 2;// è¦æ‰¾çš„å€¼
    int keys[] = {3, 4, 6, 2, 8, 10};
    int size = sizeof(keys) / sizeof(int);
    printf("%d\n", match(key, keys, size));
    return 0;
}
```

### 10.6. Labï¼šåˆ¤æ–·æ˜¯å¦ç‚ºè³ªæ•¸

```c
#include <stdio.h>
#include <stdlib.h>
#include <string.h>

int isPrime(int N) {
    for (int i = 2; i < N; i++) {
        if (N % i == 0) {
            return 0;
        }
    }
    return 1;
}



int main() {
    int N = 10;
    printf("Is %d prime?\n", N);

    if (isPrime(N)) {
        printf("Yes\n");
    } else {
        printf("No\n");
    }
    return 0;
}
```

### 10.7. Labï¼šå„ªåŒ–-åˆ¤æ–·æ˜¯å¦ç‚ºè³ªæ•¸

```c
#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <math.h>

int isPrime(int N) {
    for (int i = 2; i <= sqrt(N); i++) {
        if (N % i == 0) {
            return 0;
        }
    }
    return 1;
}



int main() {
    int N = 10;
    printf("Is %d prime?\n", N);

    if (isPrime(N)) {
        printf("Yes\n");
    } else {
        printf("No\n");
    }
    return 0;
}
```

### 10.8. Labï¼šåˆ—å‡ºå…©æ•´æ•¸ä¹‹é–“çš„è³ªæ•¸

```c
#include <stdio.h>
#include <stdlib.h>
#include <string.h>

// prime number
int checkPrimeNumber(int number){
	int f = 1;
	for (int i = 2; i <= number / 2; ++i) {
		if (number % i == 0) {
			f = 0;
			break;
		}
	}
	return f;
}


int main(){
	int num1 = 2, num2 = 10,f;
	printf("Prime numbers between %d and %d are: ", num1, num2);
	for (int j = num1; j < num2; ++j) {
		f = checkPrimeNumber(j);
		if (f == 1) {
			printf("%d ", j);
		}
	}
	return 0;
}
```

### 10.9. Labï¼šæª¢æŸ¥ä¸€å€‹æ•¸å­—æ˜¯å¦å¯ä»¥è¡¨ç¤ºç‚ºå…©å€‹è³ªæ•¸ä¹‹å’Œ

```c
#include <stdio.h>
#include <stdlib.h>
#include <string.h>

// prime number
int isPrime(int number){
	int isPrime = 1;
	for (int i = 2; i <= number / 2; ++i) {
		if (number % i == 0) {
			isPrime = 0;
			break;
		}
	}
	return isPrime;
}


int main(){
    int n = 5;
    for (int i = 2; i <= n / 2; ++i) {
        if (isPrime(i) == 1) {
            if (isPrime(n - i) == 1) {
                printf("%d %d\n", i, n-i);
                printf("Yes\n");
                return 0;
            }
        }
    }
    printf("No\n");
    return 0;
}

```
