## 1. åŸºæœ¬è§€å¿µ

å‡½å¼æ˜¯çµ„æˆç¨‹å¼çš„åŸºæœ¬å…ƒä»¶ã€‚

æ¯å€‹ç¨‹å¼ä¸­è‡³å°‘åŒ…å«ä¸€å€‹ã€Œä¸»ç¨‹å¼ï¼ˆmain functionï¼‰ã€ï¼Œä¹Ÿå°±æ˜¯ä¸»ç¨‹åºï¼ˆmain programï¼‰ã€‚

å‡½æ•¸å¯ä»¥åˆ†ç‚ºï¼š

-   ç³»çµ±å®šç¾©å‡½å¼ï¼ˆSystem-defined Functionï¼‰ï¼š
    -   e.g. `sqrt()`
    -   ç”±ç³»çµ±æˆ–æ¨™æº–å‡½å¼åº«ï¼ˆå¦‚ C++ STLï¼‰é å…ˆå®šç¾©
    -   ä½¿ç”¨è€…å¯ä»¥ç›´æ¥ä½¿ç”¨ï¼Œç„¡éœ€è‡ªå·±æ’°å¯«
-   ä½¿ç”¨è€…å®šç¾©å‡½å¼ï¼ˆUser-defined Functionï¼‰
    -   ä½¿ç”¨è€…è‡ªè¡Œå®šç¾©èˆ‡æ’°å¯«çš„å‡½å¼ï¼Œä¾éœ€æ±‚è¨­è¨ˆåŠŸèƒ½ã€‚
    -   è‡ªå·±æ’°å¯« main() å‡½å¼ï¼Œæˆ–è‡ªå®šç¾©ä¸€å€‹åŠ æ³•å‡½å¼

## 2. å‘¼å«å‡½æ•¸

å‡½æ•¸æ•´é«”å¯ä»¥åˆ†æˆäº”å€‹éƒ¨åˆ†ï¼šæ¨™é ­æª”ï¼ˆHeader Fileï¼‰ã€å‡½å¼åç¨±ï¼ˆFunction Nameï¼‰ã€å‡½å¼åƒæ•¸ï¼ˆFunction Parameterï¼‰ã€å‡½å¼å›å‚³å€¼ï¼ˆReturn Valueï¼‰ã€ç¨‹å¼åº«ï¼ˆLibraryï¼‰

{% raw %}

```cpp
#include <iostream>   // æ¨™é ­æª”ï¼Œç”¨ä¾†è¼¸å‡ºçµæœ
#include <cmath>      // æ¨™é ­æª”ï¼Œæä¾› sqrt å‡½å¼

using namespace std;

int main() {
    double number;             // è®Šæ•¸ï¼šç”¨æˆ¶è¼¸å…¥çš„æ•¸å­—
    double result;             // è®Šæ•¸ï¼šå„²å­˜å¹³æ–¹æ ¹çµæœ

    cout << "è«‹è¼¸å…¥ä¸€å€‹æ­£æ•¸ï¼š";
    cin >> number;             // å‡½å¼åƒæ•¸ï¼šè®€å…¥ä½¿ç”¨è€…è¼¸å…¥

    result = sqrt(number);     // å‘¼å« sqrt() å‡½å¼ï¼Œä¸¦å–å¾—å›å‚³å€¼

    cout << "å¹³æ–¹æ ¹æ˜¯ï¼š" << result << endl;  // è¼¸å‡ºçµæœ
    return 0;
}

```

{% endraw %}

## 3. Function Declaration/Definition/Calls

åœ¨ç¨‹å¼ç¢¼æ®µï¼Œå¯ä»¥åˆ†ä¸‰å€‹æ–¹é¢ï¼š

-   Function Declaration å‡½æ•¸è²æ˜
-   Function Definition åŠŸèƒ½å®šç¾©
-   Function Calls å‡½æ•¸èª¿ç”¨

### 3.1. Function Declaration

åœ¨å‡½å¼å®£å‘Šä¸­ï¼Œæˆ‘å€‘å¿…é ˆæä¾›å‡½å¼åç¨±ã€å…¶å›å‚³å‹åˆ¥ï¼Œä»¥åŠåƒæ•¸çš„æ•¸é‡èˆ‡å‹åˆ¥ã€‚

å‡½å¼å®£å‘Šå‘Šè¨´ç·¨è­¯å™¨ï¼Œç¨‹å¼ä¸­æŸè™•æœ‰ä¸€å€‹å…·æœ‰è©²åç¨±çš„å‡½å¼è¢«å®šç¾©ã€‚

![upgit_20250318_1742264531.png](https://raw.githubusercontent.com/kcwc1029/obsidian-upgit-image/main/2025/03/upgit_20250318_1742264531.png)

### 3.2. Function Definition

å‡½å¼çš„å®šç¾©åŒ…å«å¯¦éš›çš„æ•˜è¿°ï¼ˆstatementsï¼‰ï¼Œé€™äº›æ•˜è¿°æœƒåœ¨å‡½å¼è¢«å‘¼å«æ™‚åŸ·è¡Œï¼ˆä¹Ÿå°±æ˜¯ç•¶ç¨‹å¼çš„æ§åˆ¶æµç¨‹é€²å…¥è©²å‡½å¼æ™‚ï¼‰ã€‚

![upgit_20250318_1742264667.png](https://raw.githubusercontent.com/kcwc1029/obsidian-upgit-image/main/2025/03/upgit_20250318_1742264667.png)

### 3.3. Function Call

å‡½å¼å‘¼å«æ˜¯ä¸€ç¨®æ•˜è¿°ï¼Œç”¨ä¾†æŒ‡ç¤ºç·¨è­¯å™¨å»åŸ·è¡Œè©²å‡½å¼ã€‚æˆ‘å€‘åœ¨å‘¼å«æ™‚æœƒä½¿ç”¨å‡½å¼åç¨±èˆ‡å°æ‡‰çš„åƒæ•¸ã€‚

> Qï¼šå‡½å¼å®£å‘Šï¼ˆdeclarationï¼‰èˆ‡å‡½å¼å®šç¾©ï¼ˆdefinitionï¼‰æœ‰ä»€éº¼ä¸åŒï¼Ÿ
>
> -   å‡½å¼å®£å‘ŠåŒ…å«å‡½å¼åç¨±ã€å›å‚³å‹åˆ¥èˆ‡åƒæ•¸ç­‰è³‡è¨Šã€‚
> -   å‡½å¼å®šç¾©å‰‡åŒ…å«è©²å‡½å¼çš„å¯¦éš›ç¨‹å¼å€å¡Šï¼ˆå‡½å¼æœ¬é«”ï¼‰

![upgit_20250318_1742264725.png](https://raw.githubusercontent.com/kcwc1029/obsidian-upgit-image/main/2025/03/upgit_20250318_1742264725.png)

### 3.4. å‘å‰ç”³æ˜(forward declaration)

æœ‰æ™‚å€™ï¼Œæˆ‘å€‘æœƒåœ¨å‡½å¼å‘¼å«ä¹‹å¾Œæ‰å®šç¾©è©²å‡½å¼ï¼Œä»¥æå‡ç¨‹å¼çš„å¯è®€æ€§ã€‚åœ¨é€™ç¨®æƒ…æ³ä¸‹ï¼Œæˆ‘å€‘æœƒåœ¨å‡½å¼å®šç¾©èˆ‡å‘¼å«ä¹‹å‰å…ˆé€²è¡Œå®£å‘Šï¼Œé€™ç¨®å®£å‘Šç¨±ç‚ºã€Œå‰å‘å®£å‘Šï¼ˆforward declarationï¼‰ã€ã€‚

{% raw %}

```cpp
#include <iostream>
using namespace std;

// Forward declarationï¼ˆå‰å‘å®£å‘Šï¼‰
void sayHello();

int main() {
    sayHello();  // å¯ä»¥å…ˆå‘¼å«å‡½å¼ï¼Œå› ç‚ºå·²ç¶“æœ‰å®£å‘Š
    return 0;
}

// Function definitionï¼ˆå‡½å¼å®šç¾©ï¼‰
void sayHello() {
    cout << "Hello, World!" << endl;
}


```

{% endraw %}

## 4. æœ‰å›å‚³å€¼çš„å‡½å¼ï¼ˆå–®å€‹åƒæ•¸ï¼‰

å‡½å¼æœƒæ¥æ”¶ä¸€å€‹åƒæ•¸ï¼Œä¸¦å›å‚³ä¸€å€‹è¨ˆç®—çµæœçµ¦ä¸»ç¨‹å¼ã€‚

{% raw %}

```cpp
#include <iostream>
using namespace std;

// å®šç¾©å‡½å¼ï¼šå‚³å…¥ä¸€å€‹æ•´æ•¸ï¼Œå›å‚³å®ƒçš„å¹³æ–¹
int square(int x) {
    return x * x;
}

int main() {
    int number;
    cout << "è«‹è¼¸å…¥ä¸€å€‹æ•´æ•¸ï¼š";
    cin >> number;

    int result = square(number);  // å‘¼å«å‡½å¼ï¼Œæ¥æ”¶å›å‚³å€¼
    cout << "å¹³æ–¹ç‚ºï¼š" << result << endl;

    return 0;
}

```

{% endraw %}

## 5. ç„¡å›å‚³å€¼çš„å‡½å¼ï¼ˆå–®å€‹åƒæ•¸ï¼‰

å‡½å¼æ¥æ”¶ä¸€å€‹åƒæ•¸ï¼Œä½†ä¸å›å‚³ä»»ä½•è³‡æ–™ï¼ŒåªåšæŸç¨®å‹•ä½œï¼ˆå¦‚è¼¸å‡ºï¼‰ã€‚

{% raw %}

```cpp
#include <iostream>
using namespace std;

// å®šç¾©å‡½å¼ï¼šå‚³å…¥ä¸€å€‹æ•´æ•¸ï¼Œé¡¯ç¤ºå®ƒçš„ 1~9 ä¹˜æ³•è¡¨
void printTable(int n) {
    for (int i = 1; i <= 9; i++) {
        cout << n << " x " << i << " = " << n * i << endl;
    }
}

int main() {
    int number;
    cout << "è«‹è¼¸å…¥ä¸€å€‹æ•´æ•¸ï¼š";
    cin >> number;

    printTable(number);  // å‘¼å«ç„¡å›å‚³å€¼çš„å‡½å¼

    return 0;
}

```

{% endraw %}

## 6. å¤šå€‹åƒæ•¸çš„å‡½æ•¸

å‡½å¼æ¥å—å¤šå€‹åƒæ•¸ï¼Œé€²è¡Œé‹ç®—ä¸¦å›å‚³çµæœã€‚

{% raw %}

```cpp
#include <iostream>
using namespace std;

// å®šç¾©å‡½å¼ï¼šå‚³å…¥å…©å€‹æ•´æ•¸ï¼Œå›å‚³å®ƒå€‘çš„å’Œ
int add(int a, int b) {
    return a + b;
}

int main() {
    int x, y;
    cout << "è«‹è¼¸å…¥å…©å€‹æ•´æ•¸ï¼š";
    cin >> x >> y;

    int sum = add(x, y);  // å‘¼å«å‡½å¼
    cout << "ç¸½å’Œç‚ºï¼š" << sum << endl;

    return 0;
}
```

{% endraw %}

## 7. åƒæ•¸å‚³é

C++çš„åƒæ•¸å‚³éæ©Ÿåˆ¶å¯ä»¥åˆ†ç‚ºå…©ç¨®ï¼š

-   å½¢å¼åƒæ•¸ï¼ˆFormal Parameterï¼‰ => Parameterï¼šå‡½å¼å®šç¾©ä¸­æ‰€å®£å‘Šçš„è®Šæ•¸ï¼Œç”¨ä¾†æ¥æ”¶å‚³å…¥è³‡æ–™
-   å¯¦éš›åƒæ•¸ï¼ˆActual Parameterï¼‰ => Argumentï¼šå‘¼å«å‡½å¼æ™‚æ‰€å‚³å…¥çš„å€¼

> Qï¼šå‡½å¼çš„ã€Œå¼•æ•¸ï¼ˆargumentsï¼‰ã€èˆ‡ã€Œåƒæ•¸ï¼ˆparametersï¼‰ã€æœ‰ä»€éº¼ä¸åŒ
>
> -   åƒæ•¸ï¼ˆparametersï¼‰æ˜¯å®šç¾©åœ¨å‡½å¼å®£å‘Šæˆ–å®šç¾©ä¸­çš„è®Šæ•¸ã€‚
> -   å¼•æ•¸ï¼ˆargumentsï¼‰æ˜¯åœ¨å‘¼å«å‡½å¼æ™‚å¯¦éš›å‚³å…¥çš„å€¼ã€‚

![upgit_20250318_1742266084.png](https://raw.githubusercontent.com/kcwc1029/obsidian-upgit-image/main/2025/03/upgit_20250318_1742266084.png)

{% raw %}

```cpp
#include <iostream>
using namespace std;

int square(int x) {        // x æ˜¯ã€Œå½¢å¼åƒæ•¸ã€
    return x * x;
}

int main() {
    int num = 5;
    int result = square(num);  // num æ˜¯ã€Œå¯¦éš›åƒæ•¸ã€
    cout << "å¹³æ–¹ç‚ºï¼š" << result << endl;
    return 0;
}
```

{% endraw %}

## 8. é è¨­åƒæ•¸å€¼ï¼ˆDefault Parameter Valueï¼‰

ç•¶å‘¼å«å‡½å¼æ™‚ï¼Œè‹¥æ²’æœ‰å‚³å…¥æŸäº›åƒæ•¸å€¼ï¼Œå‡½å¼æœƒä½¿ç”¨é å…ˆè¨­å®šå¥½çš„é è¨­å€¼ã€‚

é€™å€‹åŠŸèƒ½è®“å‡½å¼å‘¼å«è®Šå¾—æ›´å½ˆæ€§ã€æ›´æ–¹ä¾¿ï¼Œå°¤å…¶åœ¨åƒæ•¸å¾ˆå¤šä½†å¤§éƒ¨åˆ†æƒ…æ³ä¸‹ä½¿ç”¨é è¨­è¡Œç‚ºæ™‚ã€‚

### 8.1. ç¯„ä¾‹ï¼šå–®ä¸€é è¨­åƒæ•¸å€¼

{% raw %}

```cpp
#include <iostream>
using namespace std;

// å®£å‘Šèˆ‡å®šç¾©éƒ½æœ‰é è¨­å€¼ä¹Ÿå¯ä»¥
void greet(string name = "ä½¿ç”¨è€…") {
    cout << "ä½ å¥½ï¼Œ" << name << "ï¼" << endl;
}

int main() {
    greet();          // æ²’æœ‰å‚³åƒæ•¸ï¼Œä½¿ç”¨é è¨­å€¼
    greet("å°æ˜");    // å‚³å…¥åƒæ•¸ï¼Œè¦†è“‹é è¨­å€¼
    return 0;
}
```

{% endraw %}

### 8.2. ç¯„ä¾‹ï¼šå¤šå€‹é è¨­åƒæ•¸å€¼

{% raw %}

```cpp
#include <iostream>
using namespace std;

void display(int a = 1, int b = 2, int c = 3) {
    cout << a << " " << b << " " << c << endl;
}

int main() {
    display();          // ä½¿ç”¨å…¨éƒ¨é è¨­å€¼
    display(10);        // b, c ä½¿ç”¨é è¨­
    display(10, 20);    // c ä½¿ç”¨é è¨­
    display(10, 20, 30); // ç„¡é è¨­å€¼è¢«ä½¿ç”¨
    return 0;
}
```

{% endraw %}

## 9. ä¸»ç¨‹å¼èˆ‡å‡½æ•¸å…§çš„åœ°å€ä¸åŒ

{% raw %}

```cpp
#include <iostream>
using namespace std;

// å‡½å¼å®šç¾©ï¼Œåƒæ•¸ j æ˜¯å½¢å¼åƒæ•¸ï¼ˆformal parameterï¼‰
void test(int j) {
    cout << "è®Šæ•¸ j çš„å€¼ = " << j << endl;
    cout << "è®Šæ•¸ j çš„åœ°å€ = " << &j << endl;
    j++;  // ä¿®æ”¹ jï¼Œä¸æœƒå½±éŸ¿åŸå§‹ i
}

int main() {
    int i;
    cout << "è«‹è¼¸å…¥ä¸€å€‹æ•´æ•¸ï¼š";
    cin >> i;

    cout << "è®Šæ•¸ i çš„å€¼ = " << i << endl;
    cout << "è®Šæ•¸ i çš„åœ°å€ = " << &i << endl;

    test(i);  // å‚³å€¼å‘¼å«ï¼ˆpass by valueï¼‰

    cout << "è®Šæ•¸ i çš„å€¼ = " << i << endl;  // æ‡‰è©²ä»ç‚ºåŸå€¼
    cout << "è®Šæ•¸ i çš„åœ°å€ = " << &i << endl;

    return 0;
}
```

{% endraw %}

## 10. å‚³å€¼/å‚³ä½å€/å‚³åƒè€ƒ

é€™é‚Šä¹‹å¾Œæœƒå†æåˆ°

| å‚³éæ–¹å¼   | è‹±æ–‡åç¨±          | ä¸­æ–‡è§£é‡‹                         | æ˜¯å¦æ”¹è®ŠåŸè®Šæ•¸ | èªæ³•ç¯„ä¾‹            |
| ---------- | ----------------- | -------------------------------- | -------------- | ------------------- |
| å‚³å€¼å‘¼å«   | Pass by Value     | å°‡å€¼ã€Œè¤‡è£½ã€çµ¦å‡½å¼çš„å½¢å¼åƒæ•¸     | âŒ ä¸æœƒ        | `void func(int x)`  |
| å‚³ä½å€å‘¼å« | Pass by Address   | å‚³éè®Šæ•¸çš„ã€Œè¨˜æ†¶é«”ä½å€ã€çµ¦å‡½å¼   | âœ… æœƒ          | `void func(int* x)` |
| å‚³åƒè€ƒå‘¼å« | Pass by Reference | å‚³éè®Šæ•¸çš„ã€Œåˆ¥åï¼ˆå¼•ç”¨ï¼‰ã€çµ¦å‡½å¼ | âœ… æœƒ          | `void func(int &x)` |

### 10.1. å‚³å€¼å‘¼å«ï¼ˆPass by Valueï¼‰

å‡½å¼æ¥æ”¶åˆ°çš„æ˜¯ä¸€ä»½è¤‡è£½å€¼

åœ¨å‡½å¼ä¸­å°åƒæ•¸çš„æ”¹å‹•ä¸æœƒå½±éŸ¿åŸè®Šæ•¸

{% raw %}

```cpp
void setToTen(int x) {
    x = 10;
}

int main() {
    int a = 5;
    setToTen(a);
    cout << a << endl; // ğŸ‘‰ è¼¸å‡ºä»æ˜¯ 5
}
```

{% endraw %}

### 10.2. å‚³ä½å€å‘¼å«ï¼ˆPass by Addressï¼‰

å‡½å¼æ¥æ”¶åˆ°çš„æ˜¯è®Šæ•¸çš„è¨˜æ†¶é«”ä½å€

å¿…é ˆä½¿ç”¨æŒ‡æ¨™æ“ä½œï¼ˆ\* è§£åƒè€ƒï¼‰

{% raw %}

```cpp
void setToTen(int* x) {
    *x = 10;
}

int main() {
    int a = 5;
    setToTen(&a);         // å‚³å€ï¼ˆ&aï¼‰
    cout << a << endl;    // ğŸ‘‰ è¼¸å‡ºç‚º 10
}
```

{% endraw %}

### 10.3. å‚³åƒè€ƒå‘¼å«ï¼ˆPass by Referenceï¼‰

å‡½å¼å…§éƒ¨çš„åƒæ•¸å°±æ˜¯åŸè®Šæ•¸çš„ã€Œåˆ¥åã€

ä¸éœ€ä½¿ç”¨æŒ‡æ¨™èªæ³•ï¼Œæ›´ç›´è§€

{% raw %}

```cpp
void setToTen(int &x) {
    x = 10;
}

int main() {
    int a = 5;
    setToTen(a);
    cout << a << endl;  // ğŸ‘‰ è¼¸å‡ºç‚º 10
}
```

{% endraw %}

## 11. é™£åˆ—åƒæ•¸å‚³éèˆ‡ä¿®æ”¹

å‡½å¼ç„¡æ³•ä¸€æ¬¡å›å‚³å¤šå€‹å€¼ï¼ˆä½†å¯ä»¥ç”¨é™£åˆ—ã€æŒ‡æ¨™ã€çµæ§‹é«”é”æˆï¼‰

é™£åˆ—åœ¨å‡½å¼ä¸­æ˜¯ã€Œä»¥å¯¦éš›åƒæ•¸çš„ä½å€å‚³é(call by address)ã€ï¼Œæ‰€ä»¥å¯ä»¥è¢«ä¿®æ”¹

### 11.1. ç¯„ä¾‹ï¼šå‚³éé™£åˆ—ä¸¦å°å‡ºå…§å®¹

{% raw %}

```cpp
#include <iostream>
using namespace std;

#define ASIZE 3
#define BSIZE 5

// å°å‡ºé™£åˆ—å…§å®¹èˆ‡ä½å€
void printArray(int array[], int n) {
    cout << "array is at " << array << endl;
    for (int i = 0; i < n; i++) {
        cout << "array[" << i << "] = " << array[i] << endl;
    }
}

int main() {
    int a[ASIZE] = {3, 5, 7};
    int b[BSIZE] = {2, 4, 6, 8, 10};

    cout << "å°å‡º a é™£åˆ—ä½å€ = " << a << endl;
    cout << "å°å‡º b é™£åˆ—ä½å€ = " << b << endl;

    printArray(a, ASIZE);
    printArray(b, BSIZE);

    return 0;
}

```

{% endraw %}

### 11.2. ç¯„ä¾‹ï¼šé€éå‡½å¼ä¿®æ”¹é™£åˆ—å…§å®¹ï¼ˆ+1ï¼‰

{% raw %}

```cpp
#include <iostream>
using namespace std;

#define ASIZE 5

// å°å‡ºé™£åˆ—å…§å®¹
void printArray(int array[], int n) {
    cout << "array is at " << array << endl;
    for (int i = 0; i < n; i++) {
        cout << "array[" << i << "] = " << array[i] << " ";
    }
    cout << endl;
}

// é™£åˆ—åŠ ä¸€ï¼ˆç›´æ¥ä¿®æ”¹åŸé™£åˆ—å…§å®¹ï¼‰
void addArray(int array[], int n) {
    cout << "array is at " << array << endl;
    for (int i = 0; i < n; i++) {
        array[i]++;  // ä¿®æ”¹åŸå§‹è¨˜æ†¶é«”å…§å®¹
    }
}

int main() {
    int a[ASIZE] = {2, 4, 6, 8, 10};

    cout << "å°å‡º a é™£åˆ— = " << a << endl;
    printArray(a, ASIZE);  // ä¿®æ”¹å‰
    addArray(a, ASIZE);    // ä¿®æ”¹å…§å®¹
    printArray(a, ASIZE);  // ä¿®æ”¹å¾Œ

    return 0;
}

```

{% endraw %}

## 12. Inline Functionï¼ˆå…§è¯å‡½å¼ï¼‰

> å¾ˆå¸¸è·Ÿ Macro æ¯”è¼ƒ

inline å‡½å¼æ˜¯ä¸€ç¨®å°å‹å‡½å¼å„ªåŒ–æŠ€å·§ï¼Œå»ºè­°ç·¨è­¯å™¨ï¼š

-   åœ¨å‘¼å«é€™å€‹å‡½å¼çš„åœ°æ–¹ï¼Œç›´æ¥æ’å…¥ç¨‹å¼ç¢¼æœ¬é«”ï¼ˆå±•é–‹ï¼‰
-   è€Œä¸æ˜¯åƒä¸€èˆ¬å‡½å¼é‚£æ¨£ã€Œå‘¼å« â†’ è·³è½‰ â†’ è¿”å›ã€

C++ ä¸­çš„ inline æ˜¯ å°ç·¨è­¯å™¨çš„å»ºè­°ï¼Œè€Œä¸æ˜¯å‘½ä»¤ => ç·¨è­¯å™¨å¯èƒ½æœƒå¿½ç•¥ä½ çš„ inlineï¼Œç‰¹åˆ¥æ˜¯å‡½å¼å¤ªå¤§æˆ–æœ‰éè¿´æ™‚

> Qï¼šç‚ºä»€éº¼æˆ‘å¯«äº† inline å‡½å¼ï¼Œé‚„å‡ºç¾æ‰¾ä¸åˆ°å®šç¾©
>
> -   ä½ å¯èƒ½æŠŠ inline å¯«åœ¨ .cpp æª”ä¸­ï¼Œä½†æ²’æœ‰çµ¦ header çœ‹åˆ°å®ƒ
> -   inline æ‡‰å¯«åœ¨ .h æª”ï¼ˆæˆ– header å€ï¼‰æ‰æœƒçœŸæ­£å±•é–‹ï¼ˆå› ç‚ºå¿…é ˆã€Œçœ‹åˆ°å¯¦é«”ã€ï¼‰

### 12.1. Inline å‡½å¼èªæ³•

{% raw %}

```cpp
inline è¿”å›å‹åˆ¥ å‡½å¼åç¨±(åƒæ•¸) {
    // å‡½å¼å…§å®¹
}
```

{% endraw %}

### 12.2. ç¯„ä¾‹ï¼šä½¿ç”¨ Inline è¨ˆç®—å¹³æ–¹

{% raw %}

```cpp
#include <iostream>
using namespace std;

// å®£å‘Š inline å‡½å¼
inline int square(int x) {
    return x * x;
}

int main() {
    int n = 5;
    int result = square(n);  // é€™è£¡æœƒè¢«å±•é–‹æˆï¼šn * n
    cout << "å¹³æ–¹æ˜¯ï¼š" << result << endl;
    return 0;
}

```

{% endraw %}

### 12.3. static inline

static inline è¡¨ç¤ºï¼š

-   inline å»ºè­°ç·¨è­¯å™¨å±•é–‹
-   static è¡¨ç¤ºé€™å€‹å‡½å¼åªåœ¨æœ¬æª”æ¡ˆä¸­æœ‰æ•ˆï¼ˆå…§éƒ¨é€£çµï¼‰

{% raw %}

```cpp
#include <iostream>
using namespace std;

// é™å®šåœ¨æ­¤æª”æ¡ˆå…§ä½¿ç”¨
static inline int foo() {
    return 2;
}

int main() {
    cout << foo() << endl;
    return 0;
}
```

{% endraw %}

### 12.4. å‚³çµ±å‡½å¼å‘¼å« vs Inline

| å‚³çµ±å‡½å¼å‘¼å«å•é¡Œ                       | inline è§£æ³•                           |
| -------------------------------------- | ------------------------------------- |
| æ¯æ¬¡å‘¼å«éƒ½è¦è·³é€²å‡½å¼å†è·³å›ä¾†ï¼ˆæœ‰é–‹éŠ·ï¼‰ | ç›´æ¥åœ¨å‘¼å«é»ã€Œå±•é–‹ã€                  |
| å°å‡½å¼æœƒå‘¼å«å¾ˆå¤šæ¬¡å¾ˆæµªè²»æ•ˆèƒ½           | å±•é–‹å¾Œæ²’æœ‰ call â†’ return              |
| é©ç”¨æ–¼ã€Œ**å°ã€ç°¡å–®ã€å¸¸ç”¨**ã€çš„å‡½å¼     | `int square(int x) { return x * x; }` |

### 12.5. Macro vs Inline

| æ¯”è¼ƒé …ç›® | Macroï¼ˆå·¨é›†ï¼‰ | inline å‡½å¼           |
| -------- | ------------- | --------------------- |
| èªæ³•æª¢æŸ¥ | âŒ æ²’æœ‰       | âœ… æœ‰å‹åˆ¥æª¢æŸ¥         |
| èª¿è©¦     | âŒ ç„¡æ³•è¿½è¹¤   | âœ… å¯é™¤éŒ¯             |
| å®‰å…¨æ€§   | âŒ å¯èƒ½å‡ºéŒ¯   | âœ… å®‰å…¨å¼·             |
| åŠŸèƒ½æ“´å…… | âŒ é™åˆ¶å¤š     | âœ… æ”¯æ´å¤šåƒæ•¸ã€å¤šå‹åˆ¥ |

## 13. å¯è®Šåƒæ•¸å‡½å¼ï¼ˆVariadic Functionsï¼‰

ä¸€èˆ¬å‡½å¼çš„åƒæ•¸æ•¸é‡æ˜¯å›ºå®šçš„ï¼Œä¾‹å¦‚ `int add(int a, int b); // åªèƒ½åŠ å…©å€‹æ•¸`

ä½†æœ‰äº›æƒ…æ³ï¼ˆåƒ C èªè¨€ä¸­çš„ printfï¼‰ä¸ç¢ºå®šå‚³å¹¾å€‹åƒæ•¸ï¼Œ é€™ç¨®ã€Œåƒæ•¸æ•¸é‡å¯è®Šã€çš„å‡½å¼å°±å« Variadic Function

é€™äº›å®šç¾©éƒ½ä¾†è‡ª C++çš„ `<cstdarg>`ï¼ˆç¹¼æ‰¿è‡ª C çš„`stdarg.h `ï¼‰æ­é…é€™äº›å·¥å…·ï¼š

-   `va_list`ï¼šå®£å‘Šè®Šæ•¸ï¼Œç”¨ä¾†å­˜ã€Œåƒæ•¸æ¸…å–®ã€
-   `va_start`ï¼šé–‹å§‹è®€å–å¯è®Šåƒæ•¸
-   `va_arg`ï¼šæ¯æ¬¡å–å‡ºä¸€å€‹åƒæ•¸ï¼ˆä¸¦æŒ‡å‘ä¸‹ä¸€å€‹ï¼‰
    -   ä½ å¿…é ˆçŸ¥é“æ¯å€‹åƒæ•¸çš„å‹åˆ¥ï¼Œ`va_arg`ä¸æœƒè‡ªå·±åˆ¤æ–·å‹åˆ¥ï¼ŒéŒ¯èª¤æœƒå°è‡´ undefined behavior
-   `va_end`ï¼šçµæŸå¾Œè¦å‘¼å«ï¼Œé¿å…è¨˜æ†¶é«”å•é¡Œ

### 13.1. åŸºæœ¬æ ¼å¼

{% raw %}

```cpp
#include <cstdarg>

return_type function_name(fixed_arg, ...); // ... è¡¨ç¤ºå¾Œé¢å¯è®Šåƒæ•¸

```

{% endraw %}

### 13.2. ç¯„ä¾‹ï¼šadd() å¯ä»¥åŠ ä»»æ„å€‹æ•¸å­—

{% raw %}

```cpp
#include <iostream>
#include <cstdarg>
using namespace std;

// å¯è®Šåƒæ•¸å‡½å¼
int add(int count, ...) {
    va_list args;
    va_start(args, count);

    int sum = 0;
    for (int i = 0; i < count; i++) {
        sum += va_arg(args, int); // æ¯æ¬¡æ‹¿ä¸€å€‹ int
    }

    va_end(args);
    return sum;
}

int main() {
    cout << add(2, 10, 20) << endl;          // âœ 30
    cout << add(4, 1, 2, 3, 4) << endl;      // âœ 10
    cout << add(1, 99) << endl;              // âœ 99
    return 0;
}

```

{% endraw %}

### 13.3. ç¯„ä¾‹ï¼šè‡ªè¨‚çš„ print() å‡½å¼

{% raw %}

```cpp
#include <iostream>
#include <cstdarg>
using namespace std;

void print(int count, ...) {
    va_list args;
    va_start(args, count);

    for (int i = 0; i < count; i++) {
        int value = va_arg(args, int);
        cout << value << " ";
    }

    va_end(args);
    cout << endl;
}

int main() {
    print(3, 10, 20, 30);  // âœ 10 20 30
    print(5, 1, 2, 3, 4, 5); // âœ 1 2 3 4 5
    return 0;
}

```

{% endraw %}

### 13.4. ç¯„ä¾‹ï¼šäº¤éŒ¯è¼¸å‡ºæ•´æ•¸èˆ‡æµ®é»æ•¸

{% raw %}

```cpp
#include <iostream>
#include <cstdarg>
using namespace std;

void printMixed(int count, ...) {
    va_list args;
    va_start(args, count);

    for (int i = 0; i < count; i++) {
        if (i % 2 == 0) {
            int val = va_arg(args, int);
            cout << "æ•´æ•¸: " << val << endl;
        } else {
            double val = va_arg(args, double);  // æ³¨æ„æµ®é»æ•¸ç”¨ doubleï¼
            cout << "æµ®é»: " << val << endl;
        }
    }

    va_end(args);
}

int main() {
    printMixed(4, 100, 3.14, 200, 2.71);
    return 0;
}

```

{% endraw %}

### 13.5. ç¯„ä¾‹ï¼šé™£åˆ—ä¸­æ‰¾ç‰¹å®šå€¼

{% raw %}

```cpp
#include <iostream>
using namespace std;

int match(int key, int keys[], int n) {
    for (int i = 0; i < n; i++) {
        if (key == keys[i]) {
            return i;
        }
    }
    return -1;
}

int main() {
    int key = 2;
    int keys[] = {3, 4, 6, 2, 8, 10};
    int size = sizeof(keys) / sizeof(int);
    cout << match(key, keys, size) << endl;
    return 0;
}

```

{% endraw %}

### 13.6. ç¯„ä¾‹ï¼šåˆ¤æ–·æ˜¯å¦ç‚ºè³ªæ•¸

{% raw %}

```cpp
#include <iostream>
#include <cmath>
using namespace std;

bool isPrime(int N) {
    if (N < 2) return false;
    for (int i = 2; i <= sqrt(N); i++) {
        if (N % i == 0) {
            return false;
        }
    }
    return true;
}

int main() {
    int N = 10;
    cout << "Is " << N << " prime?" << endl;
    cout << (isPrime(N) ? "Yes" : "No") << endl;
    return 0;
}
```

{% endraw %}

### 13.7. ç¯„ä¾‹ï¼šåˆ—å‡ºå€é–“å…§è³ªæ•¸

{% raw %}

```cpp
#include <iostream>
using namespace std;

bool isPrime(int number) {
    if (number < 2) return false;
    for (int i = 2; i <= number / 2; ++i) {
        if (number % i == 0) return false;
    }
    return true;
}

int main() {
    int num1 = 2, num2 = 10;
    cout << "Prime numbers between " << num1 << " and " << num2 << " are: ";
    for (int j = num1; j < num2; ++j) {
        if (isPrime(j)) {
            cout << j << " ";
        }
    }
    cout << endl;
    return 0;
}
```

{% endraw %}

### 13.8. ç¯„ä¾‹ï¼šæ˜¯å¦ç‚ºå…©å€‹è³ªæ•¸ä¹‹å’Œ

{% raw %}

```cpp
#include <iostream>
using namespace std;

bool isPrime(int number) {
    if (number < 2) return false;
    for (int i = 2; i <= number / 2; ++i) {
        if (number % i == 0) return false;
    }
    return true;
}

int main() {
    int n = 5;
    bool found = false;

    for (int i = 2; i <= n / 2; ++i) {
        if (isPrime(i) && isPrime(n - i)) {
            cout << i << " + " << (n - i) << " = " << n << endl;
            found = true;
            break;
        }
    }

    cout << (found ? "Yes" : "No") << endl;
    return 0;
}
```

{% endraw %}

## 14. Zero Judge

### 14.1. a013. ç¾…é¦¬æ•¸å­—

èªªæ˜ï¼šæŠŠç¾…é¦¬æ•¸å­—è½‰åé€²ä½æ•´æ•¸ï¼Œç®—å‡ºå…©å€‹æ•¸å­—å·®çš„çµ•å°å€¼ï¼Œå†æŠŠç­”æ¡ˆè½‰å›ç¾…é¦¬æ•¸å­—

{% raw %}

```cpp
#include <iostream>
#include <string>
#include <map>
#include <cmath>
using namespace std;

// ç¾…é¦¬å­—ä¸²è½‰æ•´æ•¸
int romanToInt(const string& s) {
    map<char, int> roman = {
        {'I', 1}, {'V', 5}, {'X', 10},
        {'L', 50}, {'C', 100}, {'D', 500}, {'M', 1000}
    };

    int total = 0, prev = 0;
    for (int i = s.length() - 1; i >= 0; --i) {
        int val = roman[s[i]];
        if (val < prev) total -= val;
        else {
            total += val;
            prev = val;
        }
    }
    return total;
}

// æ•´æ•¸è½‰ç¾…é¦¬å­—ä¸²
string intToRoman(int num) {
    int values[] = {
        1000, 900, 500, 400,
        100, 90, 50, 40,
        10, 9, 5, 4, 1
    };
    string symbols[] = {
        "M", "CM", "D", "CD",
        "C", "XC", "L", "XL",
        "X", "IX", "V", "IV", "I"
    };

    string result;
    for (int i = 0; i < 13; ++i) {
        while (num >= values[i]) {
            result += symbols[i];
            num -= values[i];
        }
    }
    return result;
}

int main() {
    string a, b;
    while (cin >> a >> b) {
        int diff = abs(romanToInt(a) - romanToInt(b));
        if (diff == 0)
            cout << "ZERO" << endl;
        else
            cout << intToRoman(diff) << endl;
    }
    return 0;
}

```

{% endraw %}
